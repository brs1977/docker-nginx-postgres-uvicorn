# Общие данные ****************************************************************************************************************
#___________________________________________________________________________________
# Каталог, в котором лежат картинки*************************************************
path_images: /src/img
# Базовый размер шрифта*************************************************************
base_font: 15
# Фоновая картинка Главной страницы
face: nebo.jfif
# Массив имен файлов иконок для компонента «Заголовок» 
images: [ham.jpg, mess.png, papka.png, data.png, nastr.png, help.png, shild.png]
# Стартовый заголовок системы*********************************************************
#   при отсутствии авторизации Ссистема стартует с "выключенным" (спрятанным) Главным Меню  
#   и в невидимой панелью, в которой располагаются чек-бокса Шапки, Подвала и крестик закрытия Бокеовой панели
#   именно для этого случая и нуже start_title
# ВНИМАНИЕ! При сбросе авторизации происходит ПЕРЕгруз Системы для начальных (стартовых) условий
#____________________________________________________________________________________
start_title: Служба безопасности полетов авиации Министерства обороны Российской Федерации
# Стартовый фон рабочей области******************************************************
#   при отсутствии авторизации Ссистема стартует с "выключенным" (спрятанным) Главным Меню  
#   при этом в фон рабочей области загружается картинка, соответствующая этому параметру
#   ама область рабочая при этом ОЧИЩАЕТСЯ
#   именно для этого случая и нуже start_background_rz
# ВНИМАНИЕ! При сбросе авторизации происходит ПЕРЕгруз Системы для начальных (стартовых) условий
#____________________________________________________________________________________
start_background_rz: main.jpg
# Массив таблиц CSS и их текущих версий*********************************************
# Имя версии определяется как ИМЯ + "-" Номер
#  если перзагрузка файлов css как-то негативно влияет на что-то у Клиента,
#  эта операция все равно должна быть предусмотрена, но с какими-то особыми условиями.
# Генералам все равно придется показывать, как это работает на странице "Настройки": смена базового шрифта и цветов (ПО КЛИКУ)

gen_work_zona: 
  title:  Администрирование информационного пространства Системы
  background: sam3.jpg # фон
  icon: 11_1_1_2.png # или null, если иконки нет
  tabs:  # или или null, если вкладок нет
    - tab:
        name: Режим
        active: 1
        ref: []
    - tab:
        name: Настройки
        active: 0
        ref: []
  end_title: Управление разграничением доступа и безопасности информации # или null, если вкладок нет

#____________________________________________________________________________________  
kit_css:
  - alert-0.css # cообщение 
  - core-0.css  # стиль приложения
  - drowdown-0.css  # выпадающее меню
  - grid-0.css # таблица
  - icon-0.css  # активные иконки (крестик, стрелки, меню)
  - login-0.css # форма логина
  - main-0.css  # активные области (боковик, шапка, подвал)
  - modal-0.css  # модальное окно
  - page-0.css  # рабочая область
  - tabs-0.css  # вкладки
  - bp-0.css # Боковая панель*******************************************************
# ФОРМАТЫ массивов, передаваемых Клиенту********************************************
#___________________________________________________________________________________  
user: # текущий пользователь (NULL при отсутствии ввода логина и пароля)
  username: admin # а также - functcion  и  operator
  status: администратор # а также - соответственно - функционер и оператор
  dostup: 3 # администратор - 3, функционер - 2, оператор - 1
  datetime: 01:56:13 # время работы зарегистрированного пользователя (от момента ввода параоля и до загрузки текущей формы) 
# Верхняя строка Системы (строка заголовка)
verh: 
   sidebar_icon: ham.jpg
   title: бла-бла-бла # Z1 - Наименование, берется из списка по номеру, указываемому в Графе страниц
   icons: [mess.png, papka.png, data.png, nastr.png, help.png, shild.png] # Список картинок, ЛЕВЫЙ и правый верхний угол, берется из images
head:
  active_menu: # текущий активный пункт меню 
  menu: [{},] # список элементов Главное меню и подМеню
  ins:
    orgstr: # объект оргСтруктуры НЕ выбран (левый край, определяется при назначении через страницу оргСтруктуры)
    brod: # крошки (правый край - хлебные крошки)
menu:
  - kod: 1 
    kod_parent: 0 
    name: "Главная"
    typ_menu: ref # ref|sub|ref_param|alert (ссылка|подменю|ссылка с параметром|сообщение)
    ref: 101 # код вызываемой по клику страницы  
#-------------------------------------------------------------------------------------------------------------
# sub: ЗНАЧЕНИЕ kodPage для поиска пунктов подМеню
# ref_param: {page:kodPage, kodPage kodID} 
# alert: НОМЕР из массива ТИПОВЫХ
#------------------------------------------------------------------------------------------------------------
# Массив ТИПОВЫХ alert-сообщений, номера которых указываются при необходимости
#____________________________________________________________________________________
mas_alert:
  '1':
    title: НЕ найден компонент
    text: Вызываемая страница не найдена или находится в состоянии доработки и временно отключена от Системы. Обращайтесь к администратору Системы
  '2':  
    title: НЕдостаточно прав доступа
    text: Ваш статус в Системе не позволяет вам получить доступ к информации данной страницы Системы. Обращайтесь к администратору Системы
# Массив заголовков Системы   
# Массив заголовков Системы 
#____________________________________________________________________________________
mas_titles:
  '0': 
  '1': Служба безопасности полетов авиации Вооруженных сил Российской Федерации
  '2': Модуль приема информации и информационного обмена
  '3': Модуль ситуационного анализа и прогнозирования
  '4': Модуль базы данных комплекса
  '5': Модуль надзорной деятельности (модуль 1-й инспекции)
  '6': Модуль ОФАС (модуль 2-й инспекции)
  '7': Модуль документирования
  '21': Администрирование информационного пространства Системы
  '211': Управление разграничением доступа и безопасности информации
  '22': Реестр операций информационного взаимодействия компонентов системыи
  '23': Реестр операций настройки Системы и информационного взаимодействия
  '2301': Организационная структура объектов, контролируемых системой
  '2302': Реестр классификаторов и справочников Системы
  '2303': План летных смен на текущую неделю
  '2304': Результаты выполнения летной смены
  '2305': Нарушения и ошибочные действия в ходе летной смены
  '31': Интегральные (или частные) показатели безопасности полетов
  '32': Повторяемость причин авиационных событий
  '33': Прогнозирование динамики изменения уровня безопасности полетов
  '1001': Система ситуационного анализа и прогнозирования состояния безопасности полетов воздушных судов авиации Вооруженных Сил Российской Федерации
# Массив графических элементов рабочих зон 
#____________________________________________________________________________________
mas_pic_rz:
  '1': 
    background: main.jpg
    icon: []
  '2': 
    background: sam3.jpg
    icon: 11_1_1_2.png
# Массив вкладок Рабочей зоны****************************************************************************
# ________________________________________________________________________________________________________
mas_tabs:
  '1':
    data_tabs:
      '1':
        name: Режим
        ref: 2101 
      '2':
        name: Настройки
        ref: 2102 
# Граф страниц Системы **************************************************************
#   typ: ref (или ref_param) - означает, что это КОНЕЧНЫЙ пункт Главного Меню или СубМеню
#   typ: sub - означает, что это пункт Главного Меню,  у которого есть СубМеню
#   typ: page - означает, что это ЗАНГРУЖАЕМАЯ страница
#  Ниже вершины графа даны в следующем порядкеЖ Меню и Субмменю, потом - все прочие страницы
#____________________________________________________________________________________
graph:
  - page_mas: # 1
      kod: 1
      kod_parent: 0
      name: Главная
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 101
  - page_mas: # 2
      kod: 2
      kod_parent: 0
      name: Ввод
      typ_menu: sub # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      sub: 2
  - page_mas: # 201
      kod: 201
      kod_parent: 2
      name: Администрирование
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 20101
  - page_mas: # 202
      kod: 202
      kod_parent: 2
      name: Информационное взаимодействие
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 20201
  - page_mas: # 203
      kod: 203
      kod_parent: 2
      name: Общая форма ввода данных
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 20301
  - page_mas: # 3
      kod: 3
      kod_parent: 0
      name: Аналитика
      typ_menu: sub # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      sub: 3
  - page_mas: # 301
      kod: 301
      kod_parent: 3
      name: Мониторинг
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 30101
  - page_mas: # 302
      kod: 302
      kod_parent: 3
      name: Анализ
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 30201
  - page_mas: # 303
      kod: 303
      kod_parent: 3
      name: Прогнозирование
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 30301
  - page_mas: # 4
      kod: 4
      kod_parent: 0
      name: Данные
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 401
  - page_mas: # 5
      kod: 5
      kod_parent: 0
      name: Надзор
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 501  
  - page_mas: # 6
      kod: 6
      kod_parent: 0
      name: ОФАС
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 601  
  - page_mas: # 7
      kod: 7
      kod_parent: 0
      name: Документы
      typ_menu: ref # ref|sub|ref_param|alert|page (ссылка|подменю|ссылка с параметром|сообщение|страница)
      ref: 701  
# Здесь кончаются границы Меню и СубМеню
#    теперь надо проверить: есть ли страницы (имеются ли в Графе), указанные в ref (или в ref_param.kodPage), 
#    и соответствует ли доступ (user.dostup >= page.dostup)
#  Если страницы НЕТ, то ref (или ref_param) заменяется на mas_alert['1'] 
#  Если НЕ выполняется условие (user.dostup >= page.dostup), то ref (или ref_param) заменяется на mas_alert['2'] 
# ______________________________________________________________________________________________________
# ПЕРЕопределение вызываемых Страниц********************************************************************
# ______________________________________________________________________________________________________
page_convert:
  - page_mas: # 230210101   
      kod: 23010101
      new_kod: 230101
      act: 1
  - page_mas: # 23010102   
      kod: 23010102
      new_kod: 230101
      act: 2
  - page_mas: # 23010103   
      kod: 23010103
      new_kod: 230101
      act: 3
# ГРАФ активных Страниц*********************************************************************************
# ______________________________________________________________________________________________________
graph_page:
  - page_mas: # 101   
      kod: 101
      kod_parent: 1
      name: Стартовая страница
# Описание ДОСТУПА**************************************************************************************
#   у нас три категории пользователей и соттветствующих им классов доступа:
#   администратор (3), функционер (2) и оператор (1)
#   у каждой страницы ТОЖЕ ЕСТЬ тот же параметр - dostup
# При этом условие досьтупа на страницу - следующее: (user.dostup >= page.dostup)
# Описание заголовков страницы**************************************************************************
#   verh.title          = mas_titles[titles[1]]
#   work_zona.title     = mas_titles[titles[2]]
#   work_zona.end_title = mas_titles[titles[3]]
# ОПИСАНИЕ Общих Графических элементов рабочей зоны страницы********************************************
#   это параметр pic_rz
#   для него указывается номер в кавычках для массива mas_pic_rz, по которому есть два параметра:
#   background и icon (описание ниже)
# Описание подложки (background) рабочей зоны страницы**************************************************
#   это - имя фотообоев, которые грузятся в рабочую область:
#   параметр work_zona.background ДЛЯ КЛИЕНТА
#   <div class="div-work pic-m1"></div>
# Описание иконки правого верхнего угла***************************************************************
#   если ее нет, то - icon: []
#  если ЕСТЬ - указывается имя картинки
# Описание вкладок для рабочей зоны (если они есть)*****************************************************
#   это - work_zona.tabs ДЛЯ КЛИЕНТА
# Если вкладок НЕТ, то typ_tabs : []
# Если они есть, ТО:
#   массив вкладок (полное описание) - выбирается из массива mas_tabs:
#   data = mas_tabs[typ_tabs.id_data_tab]
#   активным при этом будет вкладка data[typ_tabs.active_tab] 
# И если typ_tabs.other = 0, то все прочие вставки - НЕактивны (то бишь по ним НЕЛЬЗЯ КЛИКНУТЬ)
#   если typ_tabs.other = 1, то все прочие вставки - обрабатываются обычным путем:
#   для них указывается помимо data.name еще и data.ref
# ref (или ref_param) - как и везде - после заполнения проверяется на доступ (см. выше)
# Описание типа рабочей зоны**************************************************************************
#   это - В ПОСЛЕДНЮЮ очередь
#   на первом круге ада - отрабатываются ВСЕ страницы, то есть для ВСЕХ НИХ:
# ПРОРИСОВЫВАЮТСЯ: заголвки, (ВСЕ ТРИ - если есть три), фон (картинка) и вкладки (если есть)
# Рабочие области берутся по typ_zona и kod из массива stream_rz
      dostup: 1 # доступНА ВСЕМ категориям пользователей
      titles: ['1', '1001', '0'] # номер массива заголовков для страницы 
      pic_rz: '1'
      typ_zona: rows # rows|list|table|org|vvod|data ... 
      typ_tabs : []
# ВВод. Администрирование*******************************************************************************      
  - page_mas: # 20101 ПЕРВАЯ-----------------------------------------------------
      kod: 20101
      kod_parent: 201
      name: Режим
      dostup: 3 # Уровень доступа к странице
      titles: ['2', '21', '211'] # номерА массива заголовков для страницы 
      pic_rz: '2'
      typ_zona: list # rows|list|table|org|vvod|data ... 
      typ_tabs : 
        id_data_tab: '1' # номер массива data_tabs вкладок ИЗ массива mas_tabs
        active_tab: '1' # номер активной вкладки в массиве data_tabs
        other: 0
# ВВод. Информационное взаимодействие********************************************************************
  - page_mas: # 20201 ВТОРАЯ-----------------------------------------------------
      kod: 20201
      kod_parent: 202
      name: Реестр операций
      dostup: 1
      titles: ['2', '22', '0'] # номерА массива заголовков для страницы 
      pic_rz: '2'
      typ_zona: list # rows|list|table|org|vvod|data ... 
      typ_tabs : [] 
# ВВод. ОБЩАЯ таблица операций***************************************************************************
  - page_mas: # 20301 ТРЕТЬЯ-----------------------------------------------------
      kod: 20301
      kod_parent: 203
      name: Реестр операций
      dostup: 1
      titles: ['2', '23', '0'] # номерА массива заголовков для страницы 
      pic_rz: '2'
      typ_zona: list # rows|list|table|org|vvod|data ... 
      typ_tabs : [] 
  - page_mas: # 2030101
      kod: 2030101
      kod_parent: 20301
      name: ОргСтруктура
      dostup: 3
      titles: ['1', '2', '2301'] # номерА массива заголовков для страницы 
      pic_rz: '2'
      typ_zona: org # rows|list|table|org|vvod|data ... 
      typ_tabs: [] 
  - page_mas: # 2030102
      kod: 2030102
      kod_parent: 20301
      name: Классификаторы и справочники
      dostup: 2
      titles: ['1', '2', '2302'] # номерА массива заголовков для страницы 
      pic_rz: '2'
      typ_zona: list # rows|list|table|org|vvod|data ... 
      typ_tabs : [] 
  - page_mas: # 2030103
      kod: 2030103
      kod_parent: 20301
      name: План летных смен
      dostup: 2
      titles: ['1', '2', '2303'] # номерА массива заголовков для страницы 
      pic_rz: '2'
      typ_zona: vvod # rows|list|table|org|vvod|data ... 
      typ_tabs : []       
# ********************************************************************************************************
#    Теперь (когда вкладки ВЫБРАНЫ) надо проверить: есть ли страницы (имеются ли в Графе), указанные в ref (или в ref_param.kodPage), 
#    и соответствует ли доступ (user.dostup >= page.dostup)
#  Если страницы НЕТ, то ref (или ref_param) заменяется на mas_alert['1'] 
#  Если НЕ выполняется условие (user.dostup >= page.dostup), то ref (или ref_param) заменяется на mas_alert['2'] 
# Массив параметров Рабочей зоны************************************************************************
# ______________________________________________________________________________________________________
stream_rz:
  - mas_typ:  
      typ: rows
      page: 101
      rows:
        row1:
          pic: 11_1_1_1.jpg
          tеxt: Главная страница Системы (перечень модулей, личный кабинет пользовыателя, настройки)
        row2:
          - para:
              pic1: 111_1_1_4.jpg
              tеxt1: Модуль приема информации и информационного обмена
              pic2: 111_1_1_2.jpg
              tеxt2: Модуль контроля и сопровождения базы данных Системы
          - para:
              pic1: 111_1_1_3.jpg
              tеxt1: Модуль ситуационного анализа и прогнозирования
              pic2: 133_6_1_1.jpg
              tеxt2: Модуль надзорной деятельности (модуль 1-й инспекции)
          - para:          
              pic1: 133_4_1_3.jpg
              tеxt1: Документы (формирование отчетов, оперативных донесений, подготовка обзорных материалов по теме)
              pic2: 133_8_1_2.jpg
              tеxt2: Модуль ОФАС (модуль 2-й инспекции)
# Может быть и НЕПОЛНАЯ пара, например:
#  - para:
#      pic1: 133_4_1_3.jpg
#      tеxt1: Документы (формирование отчетов, оперативных донесений, подготовка обзорных материалов по теме)
#   - para:
# ИЛИ:
#  - para:
#      pic2: 133_4_1_3.jpg
#      tеxt2: Документы (формирование отчетов, оперативных донесений, подготовка обзорных материалов по теме)
#   - para:
# ********************************************************************************** 
# Рабочая зона типа "list"**********************************************************
# подробная инструкция - в одноименном файле.docx
#___________________________________________________________________________________            
  - mas_typ:
      typ: list
      page: 20101
      list:
#********************************************************************************************************
#  После выборки данных надо - АНАЛОГИЧНО Меню проверить ref 
#    первые две проверки - как у меню
#    в списках - есть еще третья: ref <> 0
#  Если ref=0, то он заменяется на alert['1'] 
#  КРОМЕ ТОГО эти строки (c ref и c alert) - отличаются ДИЗАЙНОМ (у них - разные стили)
# ______________________________________________________________________________________________________        
        ref_page: 0
        name_column: []
        data:
          - group:
              name: Регистрация пользователей
              rows: 
                - para:                        
                    nam: Пользователи Службы
                - para:
                    nam: Внешние пользователи
                - para:
                    nam: Создание групп пользователей
          - group:
              name: Управление разграничением доступа
              rows: 
                - para:
                    nam: Cмена паролей (периодичность и генерация)
                - para:
                    nam: Назначение прав доступа
                - para:
                    nam: Управление статусом групп пользователей  
          - group: 
              name: Контроль доступа пользователей к ресурсам Системы
              rows:
                - para:
                    nam: Статистика доступа к ресурсам
                - para:
                    nam: Динамика наполняемости базы данных
          - group: 
              name: Рассылка сообщений пользователям
              rows:
                - para:
                    nam: Адресные сообщения
                - para:
                    nam: Циркулярные сообщения
#****************************************************************************************************
# Таблицы Справочников Системы 
# ______________________________________________________________________________________________________        
stream_spr:
  - mas_kod:
      kod: 1
      table_name: Имя таблицы базы данных
      table_title: значение # Заголовок таблицы
      table_fields: [field1, field2, field3]
      name_fields: [имя1, имя2, имя3] 
      hor_scrol:  значение # 0 - отсутствует
      spr_column: [0, kodСправочника, 0]
      act_column: [1, 0, 2, 0, 0]
# Действия по КЛИКУ (соответствует раскраске) **************************************
#  1 - редактор (белый фон)
#  0 - код справочника (прозрачный фон)
#  2 - вызов справочника (жирный шрифт)
#___________________________________________________________________________________ 
  

